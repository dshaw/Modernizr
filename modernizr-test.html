<!DOCTYPE html>
<html lang=en dir=ltr class=no-js>
<head>
	<title>Modernizr Test Suite</title>
	<style>
		body { font: 14px/18px Inconsolata }
		header { display:  block; background-color: #91A1A9; color: #D81D75 }
		h2 { color: #91A1A9 }
		h3 { color: #D81D75 }
		li { list-style: none; color: #900 }
		li.yes, .active { color: #090 }
		li b { color: #000 }
		a { color: #8FA1A9; }
		.failed { text-decoration: blink }
	</style>
	<script src=modernizr.js></script>
</head>
<body>
	<header>
	  <h1>Modernizr <span id=version></span> Test</h1>
	</header>
	
	<section id=js>
	  <h2>Modernizr.properties</h2>
	  <p id=jsproperties></p>
	</section>
		
	<section id=css>
	  <h2>CSS Classes</h2>
	  <p id=cssclasses></p>
	</section>
	
	<section id=status>
	  <h3 id=status-message></h3>
	</section>
	
	<footer>modernizr.js <a href="http://www.modernizr.com">www.modernizr.com</a></footer>

  <script>
    (function() {
      var status = false,
        start = new Date, end,
        status_msg = function() {
          var end = new Date(),
            success_msg = 'took ' + (end.getTime() - start.getTime()) + ' ms',
            failure_msg = '<span class="failed">FIALED</span>';
          return 'At ' + end + ', Modernizr ' + (status ? success_msg : failure_msg) + '.';
        },
        properties = function(library){
          var op, props = [];
          for (property in library) {
            if (property.charAt(0) !== '_' && property !== 'addTest') {
              props.push(property);
            }
          }
          return props.toString().replace(/,/g,' '); 
        };

      if(!!window.Modernizr) {
        document.getElementById('version').innerHTML = window.Modernizr._version;
        document.getElementById('jsproperties').innerHTML = properties(window.Modernizr);
        document.getElementById('cssclasses').innerHTML = document.documentElement.className;
        status = true;
        
        // The follow should be corrected or at least updated in the documentation:
        //alert('Modernizr.localstorage ' + Modernizr.localstorage);
        //alert('Modernizr.sessionstorage ' + Modernizr.sessionstorage);
        //alert('Modernizr.applicationcache ' + Modernizr.applicationcache);
      }
      document.getElementById('status-message').innerHTML = status_msg();
    })();
  </script>
</body>
</html>
